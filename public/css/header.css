/* Header CSS */

nav{
    border-radius: 0px 0px 10px 10px;
    box-shadow: 0 10px 20px 0 rgba(0, 0, 0, 0.25);
    background-color: var(--background-color);
}

/* Navbar básico - configuração única */
.navbar {
    padding: 0;
    min-height: auto;
}

/* Container do navbar */
nav .container {
    position: relative;
    padding: 0.2rem 1rem;
    align-items: center;
}

/* Logo - CSS novo do zero */
.logo-header {
    height: 50px;
    width: auto;
}

.header-right {
    min-width: 120px;
    display: flex;
    align-items: center;
}

.navbar-brand strong{
    color: var(--textcolor-blue);
}

.navbar .nav-link {
    font-style: normal !important;
    font-family: "Montserrat", sans-serif;
    font-weight: 500;
}

/* Itens padrão animados */
.navbar-nav .nav-item .nav-link {
    display: flex;
    align-items: center;
    width: 45px;
    overflow: hidden;
    white-space: nowrap;
    transition: width 0.4s ease;
    position: relative;
    padding: 8px 10px;
    color: #333; /* Cor padrão preta */
}

/* Ícones fixos - laranja */
.navbar-nav .nav-item .nav-link i {
    font-size: 1.2rem;
    flex-shrink: 0;
    color: var(--orange-color);
}

/* Texto inicialmente invisível - preto */
.navbar-nav .nav-item .nav-link span {
    margin-left: 8px;
    opacity: 0;
    transition: opacity 0.3s ease 0.1s;
    color: #333;
}

/* Quando passar o mouse sobre o nav-item inteiro: expande e revela */
.navbar-nav .nav-item:hover .nav-link {
    width: 160px;
}

.navbar-nav .nav-item:hover .nav-link span {
    opacity: 1;
}

/* Mantém compatibilidade com hover direto no link também */
.navbar-nav .nav-item .nav-link:hover {
    width: 160px;
}

.navbar-nav .nav-item .nav-link:hover span {
    opacity: 1;
}

/* Badge de notificações */
#notificationBadge {
    right: 6px;
    top: 2px;
}

/* Menu do usuário - permitir expansão maior para nomes longos */
.user-menu-item:hover .nav-link {
    width: 250px;
}

.user-menu-item .nav-link:hover {
    width: 250px;
}

/* Controle de hover para dropdowns */
.nav-item.dropdown:hover .dropdown-menu {
    display: block;
}

.nav-item.dropdown .dropdown-menu {
    display: none;
    margin-top: 0;
}

/* Ajustar espaçamento da setinha do dropdown do usuário */
.user-menu-item .dropdown-toggle::after {
    margin-left: 10px; /* Mude este valor para aumentar/diminuir o espaço */
}

/* Estado inicial dos itens */
.dropdown-menu .dropdown-item {
    opacity: 0;
    transform: translateX(-10px);
    transition: all 0.3s ease;
}

/* Quando o dropdown abre */
.dropdown-menu.show .dropdown-item {
    opacity: 1;
    transform: translateX(0);
}

/* Animação em cascata */
.dropdown-menu.show .dropdown-item:nth-child(1) {
    transition-delay: 0.05s;
}
.dropdown-menu.show .dropdown-item:nth-child(2) {
    transition-delay: 0.1s;
}
.dropdown-menu.show .dropdown-item:nth-child(3) {
    transition-delay: 0.15s;
}
.dropdown-menu.show .dropdown-item:nth-child(4) {
    transition-delay: 0.2s;
}

.dropdown-item {
    font-family: "Montserrat", sans-serif;
    font-weight: 500;
    color: #333;
}

.dropdown-menu .dropdown-menu-end{
    color: #333;
}

/* ===== Bootstrap toggler fixes =====
   Força ícone e comportamento quando regras customizadas sobrescrevem estilos do Bootstrap
*/

/* Garantir que a variável do ícone exista mesmo sem .navbar-light/.navbar-dark */
.navbar {
    --bs-navbar-toggler-icon: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='rgba(0,0,0,0.7)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
}

/* Reset mínimo para o botão toggler para evitar retângulos estranhos */
.navbar-toggler {
    border: none;
    background: transparent;
    padding: .25rem .5rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.navbar-toggler-icon {
    background-image: var(--bs-navbar-toggler-icon) !important;
    width: 1.6rem;
    height: 1.6rem;
    background-size: 1.6rem 1.6rem;
}

/* Ajustes para o collapse em telas pequenas (torna o menu deslocado fixo do lado direito) */
@media (max-width: 991.98px) {
    /* Garante que o container navbar tenha position relative para o toggler absoluto */
    nav .container {
        position: relative;
    }

    /* Posiciona o botão toggler absoluto no canto superior direito do navbar */
    .navbar-toggler {
        position: absolute;
        top: 12px;
        right: 12px;
        z-index: 10600; /* Sempre acessível, acima de tudo */
        border-radius: 8px;
        padding: .4rem .5rem;
        background: #fff;
        box-shadow: 0 4px 10px rgba(0,0,0,.12);
    }

    /* O menu colapsado aparece como um painel absoluto abaixo do toggler */
    .header-right .navbar-collapse {
        position: fixed; /* Mudado de absolute para fixed */
        top: 64px; /* abaixo do toggler/header */
        right: 12px;
        left: auto;
        background: #fff;
        z-index: 10500; /* Acima dos popups de eventos */
        box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);
        width: 260px; /* ajustar se necessário */
        padding: .25rem 0;
        border-radius: 8px;
        max-height: calc(100vh - 84px);
        overflow-y: auto;
        pointer-events: auto; /* Garante que cliques sejam capturados */
    }

    .header-right .navbar-nav {
        flex-direction: column;
        gap: 0;
    }

    /* Força textos visíveis no mobile */
    .header-right .navbar-nav .nav-link {
        padding: .6rem 1rem;
        width: 100% !important;
        overflow: visible;
        color: #333 !important;
    }

    /* Ícones em laranja no mobile */
    .header-right .navbar-nav .nav-link i {
        color: var(--orange-color) !important;
    }

    /* Textos em preto no mobile */
    .header-right .navbar-nav .nav-link span {
        opacity: 1 !important;
        color: #333 !important;
        margin-left: 8px;
    }

    /* Textos em preto no painel colapsado do mobile */
    .header-right .navbar-collapse .nav-link,
    .header-right .navbar-collapse .nav-link span,
    .header-right .navbar-collapse .dropdown-item,
    .header-right .navbar-collapse .dropdown-header {
        color: #333 !important;
    }

    /* Notificações em preto no mobile */
    .header-right .navbar-collapse .notification-dropdown,
    .header-right .navbar-collapse .notification-dropdown .notification-item,
    .header-right .navbar-collapse .notification-dropdown .notification-message,
    .header-right .navbar-collapse .notification-dropdown .notification-empty {
        color: #333 !important;
    }

    /* Garantir que o painel colapsado tenha fundo branco (evita textos brancos sobre branco) */
    .header-right .navbar-collapse,
    .header-right .navbar-collapse .notification-dropdown {
        background: #ffffff !important;
    }

    /* Badge dentro do painel: estilizar para contraste */
    .header-right .navbar-collapse .notification-badge,
    .header-right .navbar-collapse .notification-badge * {
        color: #fff !important;
        background: var(--orange-color) !important;
    }

    /* Ajuste para dropdowns dentro do painel fixo (exceto painel de notificações) */
    .header-right .navbar-collapse .dropdown-menu:not(.notification-dropdown) {
        position: static !important;
        float: none !important;
        box-shadow: none !important;
        background: #fff !important;
        border: 0 !important;
        display: block !important;
        width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
        opacity: 1 !important;
        transition: opacity 0.2s ease !important;
    }

    /* Garantir que itens do dropdown sejam visíveis */
    .header-right .navbar-collapse .dropdown-menu:not(.notification-dropdown) .dropdown-item {
        padding: .6rem 1rem !important;
        background: #fff !important;
        display: block !important;
    }

    /* Ocultar dropdown quando não estiver com classe .show */
    .header-right .navbar-collapse .dropdown-menu:not(.notification-dropdown):not(.show) {
        display: none !important;
        opacity: 0 !important;
    }

    /* Bloquear apenas cliques nos eventos quando o menu mobile está aberto */
    body:has(.navbar-collapse.show) .fc-event,
    body:has(.navbar-collapse.show) .event-clickable,
    body:has(.navbar-collapse.show) .fc-daygrid-event,
    body:has(.navbar-collapse.show) .fc-timegrid-event,
    body:has(.navbar-collapse.show) .event-popup-overlay {
        pointer-events: none !important;
    }

}

